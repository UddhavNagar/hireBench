<% layout('layouts/boilerplate') %>

<div class="container mt-5">
  <h2 class="mb-4">Resume Score Dashboard</h2>

  <% if (resumes.length === 0) { %>
    <div class="alert alert-warning">No resumes have been scored yet.</div>
  <% } else { %>
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Title</th>
            <th>User</th>
            <th>Score</th>
            <th>View</th>
          </tr>
        </thead>
        <tbody>
          <% resumes.forEach((resume, index) => { %>
            <tr class="<%= resume._isTop ? 'table-success' : '' %>">
              <td><%= index + 1 %></td>
              <td><%= resume.title %></td>
              <td><%= resume.owner?.username || 'N/A' %></td>
              <td><strong><%= resume.score %>/100</strong></td>
              <td><a href="/resumes/<%= resume._id %>" class="btn btn-sm btn-primary">View</a></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  <% } %>
</div>
