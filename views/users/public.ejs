<% layout("/layouts/boilerplate") %>

<div class="container mt-5">
  <div class="card mx-auto shadow-lg border-0 profile-card"
       style="color: #65778f; max-width: 480px; background-color: #e3f2fd; border-radius: 1.5rem;">
    <div class="card-body text-center position-relative">

      <div class="mb-3">
        <% if (user?.profileImage) { %>
          <img src="<%= user.profileImage %>" alt="Profile" class="rounded-circle" width="120" height="120" style="object-fit: cover;">
        <% } else { %>
          <i class="fa-solid fa-circle-user fa-6x" style="color: #1e2529;"></i>
        <% } %>
      </div>

      <h4 class="mb-2" style="color: #023e8a;">
        <%= user?.username || "Unnamed User" %>
      </h4>

      <p class="text-muted mb-4">
        <%= user?.email || "No email provided" %>
      </p>

      <div class="text-start px-3">

        <p><strong>Role:</strong> <%= user?.role?.charAt(0).toUpperCase() + user.role.slice(1) %></p>

        <% if (user.fullName) { %>
          <p><strong>Full Name:</strong> <%= user.fullName %></p>
        <% } %>

        <% if (user.phone) { %>
          <p><strong>Phone:</strong> <%= user.phone %></p>
        <% } %>

        <% if (user.location) { %>
          <p><strong>Location:</strong> <%= user.location %></p>
        <% } %>

        <% if (user.bio) { %>
          <p><strong>Bio:</strong> <%= user.bio %></p>
        <% } %>

        <% if (user.role === "recruiter") { %>
          <% if (user.company) { %>
            <p><strong>Company:</strong> <%= user.company %></p>
          <% } %>
          <% if (user.designation) { %>
            <p><strong>Designation:</strong> <%= user.designation %></p>
          <% } %>
        <% } %>

        <% if (user.role === "candidate") { %>
          <% if (user.linkedin) { %>
            <p><strong>LinkedIn:</strong> <a href="<%= user.linkedin %>" target="_blank"><%= user.linkedin %></a></p>
          <% } %>
          <% if (user.github) { %>
            <p><strong>GitHub:</strong> <a href="<%= user.github %>" target="_blank"><%= user.github %></a></p>
          <% } %>
          <% if (user.portfolio) { %>
            <p><strong>Portfolio:</strong> <a href="<%= user.portfolio %>" target="_blank"><%= user.portfolio %></a></p>
          <% } %>
        <% } %>

        <p><strong>Joined:</strong> <%= user?.createdAt?.toDateString() %></p>

      </div>
    </div>
  </div>
</div>
